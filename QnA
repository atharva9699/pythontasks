import boto3

def get_recommended_cert(username):
    user_table = boto3.resource('dynamodb').Table('user_profile')
    response = user_table.get_item(Key={'username': username})
    return response['Item']['recommended_cert']

def get_cert_info(cert_name):
    cert_table = boto3.resource('dynamodb').Table('CertInfo')
    response = cert_table.get_item(Key={'CertificationName': cert_name})
    return response['Item']

def answer_user_query(username, user_question):
    cert_name = get_recommended_cert(username)
    cert_info = get_cert_info(cert_name)
    # Now use cert_info and user_question to generate answer (LLM or manual template)
    return format_answer(user_question, cert_info)
